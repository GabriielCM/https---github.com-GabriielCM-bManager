{% extends "base/layout.html" %}

{% block title %}Configurações | B-Manager{% endblock %}

{% block sidebar %}
    {% include "components/sidebar.html" %}
{% endblock %}

{% block content %}
<div id="configuracoes">
    <div class="row mb-4">
        <div class="col-md-3">
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold">Menu de Configurações</h6>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush" id="config-menu">
                        <a href="#config-empresa" class="list-group-item list-group-item-action active" data-bs-toggle="list">
                            <i class="fas fa-store me-2"></i>Dados da Empresa
                        </a>
                        <a href="#config-sistema" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-cogs me-2"></i>Configurações Gerais
                        </a>
                        <a href="#config-usuarios" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-users-cog me-2"></i>Usuários e Permissões
                        </a>
                        <a href="#config-fiscal" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-file-invoice-dollar me-2"></i>Configurações Fiscais
                        </a>
                        <a href="#config-integracao" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-plug me-2"></i>Integrações
                        </a>
                        <a href="#config-backup" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-database me-2"></i>Backup e Restauração
                        </a>
                        <a href="#config-aparencia" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-palette me-2"></i>Aparência
                        </a>
                        <a href="#config-notificacao" class="list-group-item list-group-item-action" data-bs-toggle="list">
                            <i class="fas fa-bell me-2"></i>Notificações
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-9">
            <div class="tab-content" id="config-content">
                <!-- Configurações da Empresa -->
                <div class="tab-pane fade show active" id="config-empresa">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Dados da Empresa</h6>
                        </div>
                        <div class="card-body">
                            <form id="form-empresa">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="empresa-nome" class="form-label">Nome da Empresa</label>
                                        <input type="text" class="form-control" id="empresa-nome" placeholder="Nome da sua barbearia">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="empresa-razao-social" class="form-label">Razão Social</label>
                                        <input type="text" class="form-control" id="empresa-razao-social" placeholder="Razão social (se aplicável)">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-4">
                                        <label for="empresa-cnpj" class="form-label">CNPJ</label>
                                        <input type="text" class="form-control" id="empresa-cnpj" placeholder="00.000.000/0000-00">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="empresa-telefone" class="form-label">Telefone</label>
                                        <input type="text" class="form-control" id="empresa-telefone" placeholder="(00) 00000-0000">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="empresa-email" class="form-label">Email</label>
                                        <input type="email" class="form-control" id="empresa-email" placeholder="contato@suabarbearia.com">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-8">
                                        <label for="empresa-endereco" class="form-label">Endereço</label>
                                        <input type="text" class="form-control" id="empresa-endereco" placeholder="Rua, número">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="empresa-cep" class="form-label">CEP</label>
                                        <input type="text" class="form-control" id="empresa-cep" placeholder="00000-000">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-5">
                                        <label for="empresa-cidade" class="form-label">Cidade</label>
                                        <input type="text" class="form-control" id="empresa-cidade">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="empresa-estado" class="form-label">Estado</label>
                                        <select class="form-select" id="empresa-estado">
                                            <option value="">Selecione</option>
                                            <!-- Estados serão carregados via JavaScript -->
                                        </select>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="empresa-logo" class="form-label">Logo da Empresa</label>
                                        <input type="file" class="form-control" id="empresa-logo">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label for="empresa-sobre" class="form-label">Sobre a Empresa</label>
                                        <textarea class="form-control" id="empresa-sobre" rows="3" placeholder="Breve descrição sobre sua barbearia"></textarea>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save me-2"></i>Salvar Alterações
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Configurações Gerais -->
                <div class="tab-pane fade" id="config-sistema">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Configurações Gerais</h6>
                        </div>
                        <div class="card-body">
                            <form id="form-sistema">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="sistema-horario-inicio" class="form-label">Horário de Abertura</label>
                                        <input type="time" class="form-control" id="sistema-horario-inicio">
                                    </div>
                                    <div class="col-md-6">
                                        <label for="sistema-horario-fim" class="form-label">Horário de Fechamento</label>
                                        <input type="time" class="form-control" id="sistema-horario-fim">
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="sistema-duracao-slot" class="form-label">Duração Padrão de Agendamento</label>
                                        <select class="form-select" id="sistema-duracao-slot">
                                            <option value="15">15 minutos</option>
                                            <option value="30" selected>30 minutos</option>
                                            <option value="45">45 minutos</option>
                                            <option value="60">1 hora</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="sistema-intervalo-agendamento" class="form-label">Intervalo entre Agendamentos</label>
                                        <select class="form-select" id="sistema-intervalo-agendamento">
                                            <option value="0" selected>Sem intervalo</option>
                                            <option value="5">5 minutos</option>
                                            <option value="10">10 minutos</option>
                                            <option value="15">15 minutos</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label for="sistema-moeda" class="form-label">Moeda</label>
                                        <select class="form-select" id="sistema-moeda">
                                            <option value="BRL" selected>Real Brasileiro (R$)</option>
                                            <option value="USD">Dólar Americano ($)</option>
                                            <option value="EUR">Euro (€)</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="sistema-data-format" class="form-label">Formato de Data</label>
                                        <select class="form-select" id="sistema-data-format">
                                            <option value="dd/mm/yyyy" selected>DD/MM/AAAA</option>
                                            <option value="mm/dd/yyyy">MM/DD/AAAA</option>
                                            <option value="yyyy-mm-dd">AAAA-MM-DD</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="sistema-agendamento-online" checked>
                                            <label class="form-check-label" for="sistema-agendamento-online">Permitir agendamentos online</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="sistema-notificacao-email" checked>
                                            <label class="form-check-label" for="sistema-notificacao-email">Enviar notificações por email</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <div class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox" id="sistema-notificacao-sms">
                                            <label class="form-check-label" for="sistema-notificacao-sms">Enviar notificações por SMS</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save me-2"></i>Salvar Alterações
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Outras abas de configuração... -->
                <div class="tab-pane fade" id="config-usuarios">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Usuários e Permissões</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações de usuários e permissões será implementado aqui.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="config-fiscal">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Configurações Fiscais</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações fiscais será implementado aqui.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="config-integracao">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Integrações</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações de integrações será implementado aqui.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="config-backup">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Backup e Restauração</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações de backup será implementado aqui.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="config-aparencia">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Aparência</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações de aparência será implementado aqui.</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane fade" id="config-notificacao">
                    <div class="card shadow mb-4">
                        <div class="card-header py-3">
                            <h6 class="m-0 font-weight-bold">Notificações</h6>
                        </div>
                        <div class="card-body">
                            <p>Conteúdo das configurações de notificações será implementado aqui.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<!-- Script para a página de configurações -->
<script src="/static/js/configuracoes.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Página de configurações carregada com sucesso!');
        
        // Destacar o link de configurações no sidebar como ativo
        const configuracoesLink = document.getElementById('configuracoes-link');
        if (configuracoesLink) {
            const sidebarLinks = document.querySelectorAll('.nav-link');
            sidebarLinks.forEach(link => link.classList.remove('active'));
            configuracoesLink.classList.add('active');
        }
    });
</script>
{% endblock %} 