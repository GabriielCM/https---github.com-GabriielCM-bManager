{% extends "base/layout.html" %}

{% block title %}Agenda | B-Manager{% endblock %}

{% block sidebar %}
    {% include "components/sidebar.html" %}
{% endblock %}

{% block content %}
    {% include "pages/agenda_content.html" %}
{% endblock %}

{% block styles %}
<style>
    /* Estilo para o calendário */
    .calendar-container {
        width: 100%;
    }
    .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 1px;
    }
    .calendar-cell {
        padding: 5px;
        text-align: center;
    }
    .calendar-day {
        padding: 5px;
        border-radius: 50%;
        width: 30px;
        height: 30px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        cursor: pointer;
    }
    .calendar-day:hover {
        background-color: #f8f9fa;
    }
    .calendar-day.active {
        background-color: #007bff;
        color: white;
    }
    .calendar-day.today {
        border: 1px solid #007bff;
    }
    .calendar-day.has-events {
        font-weight: bold;
        text-decoration: underline;
    }
    
    /* Estilo para lista de agendamentos */
    .agendamento-item {
        padding: 10px;
        border-bottom: 1px solid #eee;
    }
    .agendamento-item:last-child {
        border-bottom: none;
    }
    .agendamento-horario {
        font-weight: bold;
    }
    .agendamento-cliente {
        font-weight: 500;
    }
    
    /* Status dos agendamentos */
    .status-pendente {
        color: #f39c12;
    }
    .status-concluido {
        color: #2ecc71;
    }
    .status-cancelado {
        color: #e74c3c;
    }
    .status-em-andamento {
        color: #3498db;
    }
    
    /* Estilo para os cards de serviços selecionados */
    .servico-card {
        background-color: #f8f9fa;
        border-radius: 4px;
        padding: 8px 12px;
        margin-bottom: 8px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .servico-card .servico-info {
        display: flex;
        flex-direction: column;
    }
    .servico-card .servico-nome {
        font-weight: 500;
    }
    .servico-card .servico-preco {
        font-size: 0.85rem;
        color: #6c757d;
    }
    .servico-card .btn-remover-servico {
        color: #dc3545;
        background: none;
        border: none;
        font-size: 0.85rem;
    }
</style>
{% endblock %}

{% block scripts %}
<!-- Script para a página de agenda -->
<script src="/static/js/agenda.js"></script>
<script>
    // Script para verificar a navegação
    document.addEventListener('DOMContentLoaded', function() {
        console.log('Página de agenda carregada com sucesso!');
        
        // Verificar se o link da agenda está configurado corretamente
        const agendaLink = document.getElementById('agenda-link');
        if (agendaLink) {
            console.log('Link da agenda encontrado com href:', agendaLink.getAttribute('href'));
            
            // Destacar o link da agenda no sidebar como ativo
            const sidebarLinks = document.querySelectorAll('.nav-link');
            sidebarLinks.forEach(link => link.classList.remove('active'));
            agendaLink.classList.add('active');
        } else {
            console.error('Link da agenda não encontrado!');
        }
    });
</script>
{% endblock %} 